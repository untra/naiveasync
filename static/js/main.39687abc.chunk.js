(this["webpackJsonp@untra/naiveasync"]=this["webpackJsonp@untra/naiveasync"]||[]).push([[0],{282:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n.n(a),c=n(0),o=n.n(c),l=n(36),i=n(5),u=n(20),s=n(21),m=n(38),d=n(35),p=n(1),f=n(43),b=n.n(f),E=n(2),v=n(29),h=n(13),y=function(e){return"\ud83d\udd01"in e};function g(e,t){return function(n){return y(n)&&function(e,t){return!(t&&e["\ud83d\udd01"].phase!==t)}(n,t)&&function(e,t){return!t||!(!t.name||t.name!==e["\ud83d\udd01"].name)}(n,e)}}var O=function(e){return null!==e&&"status"in e&&"error"in e&&"data"in e&&"params"in e},j=Object.freeze({status:"",error:"",params:{},data:null}),k=Object.freeze({timeout:NaN,record:NaN,dataCount:0,errorCount:0,lastCalled:0,memo:void 0,onData:function(){return"noop"},onError:function(){return"noop"},errRetryCb:function(){return"noop"},lastParams:void 0,debounce:0,throttle:0,retries:0,subscribe:0,subscribeInterval:void 0}),w=n(7),C=n(16),N=n.n(C),S=n(25),x=n(50),A=n.n(x),P=n(51),T=n.n(P),J=n(6),D=n(57),R=n(53),_=n(285),L=n(286),I=function(){function e(){Object(u.a)(this,e),this.cache=void 0,this.cache={}}return Object(s.a)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}},{key:"remove",value:function(e){delete this.cache[e]}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){return Object.keys(this.cache)}}]),e}(),M=n(52),B=n(284),z=n(55),U=function(e){return(a=e)&&"subscribe"in a&&"function"===typeof a.subscribe&&"getState"in a&&"function"===typeof a.getState&&"dispatch"in a&&"function"===typeof a.dispatch?function(e){var t=new B.a(e.getState());return e.subscribe((function(){t.next(e.getState())})),{subscribe:t.subscribe.bind(t),next:function(t){e.dispatch(t)}}}(e):(n=e,Symbol.asyncIterator in n&&"function"===typeof n[Symbol.asyncIterator]?(t=e,new J.a((function(e){Object(S.a)(N.a.mark((function n(){var a,r,c,o,l,i;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,a=!1,r=!1,n.prev=3,o=Object(M.a)(t);case 5:return n.next=7,o.next();case 7:if(!(a=!(l=n.sent).done)){n.next=15;break}if(i=l.value,!e.closed){n.next=11;break}return n.abrupt("return");case 11:e.next(i);case 12:a=!1,n.next=5;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(3),r=!0,c=n.t0;case 21:if(n.prev=21,n.prev=22,!a||null==o.return){n.next=26;break}return n.next=26,o.return();case 26:if(n.prev=26,!r){n.next=29;break}throw c;case 29:return n.finish(26);case 30:return n.finish(21);case 31:e.complete(),n.next=37;break;case 34:n.prev=34,n.t1=n.catch(0),e.error(n.t1);case 37:case"end":return n.stop()}}),n,null,[[0,34],[3,17,21,31],[22,,26,30]])})))()}))):Object(z.a)(e));var t,n,a},F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t,a){return n.reduce((function(e,t){return t(e,a)}),e(t,a))}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return y(t)&&"call"===t["\ud83d\udd01"].phase?Object(p.a)(Object(p.a)({},e),{},{status:"inflight",params:t.payload,data:null,error:""}):e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;if(y(t)&&"sync"===t["\ud83d\udd01"].phase){var n=void 0===t.payload?e.params:t.payload;return Object(p.a)(Object(p.a)({},e),{},{status:"inflight",params:n})}return e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return y(t)&&"data"===t["\ud83d\udd01"].phase?Object(p.a)(Object(p.a)({},e),{},{data:t.payload,error:""}):e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;if(y(t)&&"error"===t["\ud83d\udd01"].phase){var n=function(e){return e instanceof Error},a=n(t.payload)?t.payload.message:"object"===typeof t.payload?JSON.stringify(t.payload):t.payload;return Object(p.a)(Object(p.a)({},e),{},{status:"error",error:a})}return e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return y(t)&&"done"===t["\ud83d\udd01"].phase?Object(p.a)(Object(p.a)({},e),{},{status:"done",error:""}):e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return y(t)&&"reset"===t["\ud83d\udd01"].phase?j:e}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return y(t)&&"assign"===t["\ud83d\udd01"].phase&&O(t.payload)?t.payload:e})),V=new I,G=new I,Y=Object(h.a)({},"\ud83d\udd01",{}),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;if(y(t)){var n=t["\ud83d\udd01"].name,a=e["\ud83d\udd01"]||{},r=Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},"\ud83d\udd01",Object(p.a)({},a)));return"destroy"===t["\ud83d\udd01"].phase?(delete r["\ud83d\udd01"][n],V.remove(n),G.remove(n)):r["\ud83d\udd01"][n]=F(r["\ud83d\udd01"][n],t),r}return e},X=function(e){return function(t){var n=t.payload,a=e.call,r=e.destroy,c=e.sync,o=a(n).match,l=r().match,i=c(n).match,u=Object(p.a)(Object(p.a)({},t),{},{payload:n});return o(u)||i(u)||l(u)}},q=function(e,t,n,a){return new J.a((function(r){var c=t.id,o=t.operation,l=t.data,i=t.error,u=t.done;try{var s=U(function(e,t,n){var a=n.timeout;if(!isNaN(a)&&a>0){var r=new Promise((function(e,t){return setTimeout((function(){return t("timeout")}),a)}));return Promise.race([e(t),r])}return e(t)}(o,n,a)).subscribe((function(e){return r.next(l(e))}),(function(e){return r.next(i(e))}),(function(){return r.next(u())}));e.pipe(Object(R.a)(X(t)),Object(_.a)()).subscribe((function(){return s.unsubscribe()}))}catch(m){console.warn("unexpected error calling observable from lifecycle ".concat(c),m),r.next(i(m))}}))},H=function(e,t,n){var a=g(void 0,t);return e.pipe(Object(R.a)(a),Object(L.a)((function(t){var a=t["\ud83d\udd01"].name,r=Object(p.a)(Object(p.a)({},k),G.get(a)),c=r.memo,o=r.lastParams,l=Date.now(),i=n&&void 0===t.payload?o:t.payload,u=V.get(a);if(!u)return console.warn("No lifecycle found for dispatched action ".concat(t.type," ").concat(a)),new J.a;if(c){var s=c.get(JSON.stringify(i));if(s)return function(e,t,n){var a=t.data,r=t.done;return new J.a((function(c){var o=U(Promise.resolve(n)).subscribe((function(e){return c.next(a(e))}),(function(e){return"noop ".concat(e)}),(function(){return c.next(r())}));e.pipe(Object(R.a)(X(t)),Object(_.a)()).subscribe((function(){return o.unsubscribe()}))}))}(e,u,s)}return G.set(a,Object(p.a)(Object(p.a)({},r),{},{lastParams:i,lastCalled:l})),q(e,u,i,r)})))},Z=function(e,t,n){var a=g(void 0,t);return e.pipe(Object(R.a)(a),Object(L.a)((function(e){var a=e["\ud83d\udd01"].name,r=Object(p.a)(Object(p.a)({},k),G.get(a));if("data"===t&&r.onData&&r.onData(e.payload,n),"error"===t&&r.onError&&r.onError(e.payload,n),"data"===t&&r.awaitResolve&&r.awaitResolve(e.payload),"error"===t&&r.awaitReject&&r.awaitReject(e.payload),"data"===t&&r.memo&&r.memo.set(JSON.stringify(r.lastParams),e.payload),"subscribe"===t){var c=V.get(a),o=e.payload;clearInterval(null===r||void 0===r?void 0:r.subscribeInterval);var l=c&&o>0?setInterval((function(){return n(c.sync())}),o):void 0;return G.set(a,Object(p.a)(Object(p.a)({},r),{},{subscribe:o,subscribeInterval:l})),new J.a}var i="data"===t?r.dataCount+1:0,u="error"===t?r.errorCount+1:0,s=r.awaitResolve&&"data"===t?void 0:r.awaitResolve,m=r.awaitReject&&"error"===t?void 0:r.awaitReject,d=Date.now()-r.lastCalled;return G.set(a,Object(p.a)(Object(p.a)({},r),{},{dataCount:i,errorCount:u,record:d,awaitResolve:s,awaitReject:m})),new J.a})))},K=function(e){var t=new D.a,n=function(e){return function(){return function(t){return function(n){var a=t(n);return e.next(n),a}}}}(t);return H(t,"call",!1).subscribe(e.dispatch),H(t,"sync",!0).subscribe(e.dispatch),Z(t,"data",e.dispatch).subscribe(e.dispatch),Z(t,"error",e.dispatch).subscribe(e.dispatch),Z(t,"subscribe",e.dispatch).subscribe(e.dispatch),n(e)},Q=function(e){return function(t){var n=t["\ud83d\udd01"];return n?"\ud83d\udd01"in n?n["\ud83d\udd01"][e]||j:n[e]||j:j}},$=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a<=0?t:function(r){return t(r).catch((function(c){return n(c,a),e(t,n,a-1)(r)}))}},ee=function(e,t){var n=e&&V.get(e);if(n)return n;var a,r=(a=e,function(e){var t="".concat("\ud83d\udd01","/").concat(a,"/").concat(e),n={name:a,phase:e},r=g(void 0,e),c=function(e){return r(e)&&e["\ud83d\udd01"].name===a};return function(e){return Object(h.a)({type:t,postmark:n,match:c,payload:e},"\ud83d\udd01",n)}}),c={id:e,operation:t,selector:Q(e),call:r("call"),sync:r("sync"),destroy:r("destroy"),data:r("data"),error:r("error"),done:r("done"),reset:r("reset"),assign:r("assign"),subscribe:r("subscribe"),memoized:function(t){var n=t?new I:void 0,a=Object(p.a)(Object(p.a)({},G.get(e)),{},{memo:n});return G.set(e,Object(p.a)(Object(p.a)({},k),a)),c},onData:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=Object(p.a)(Object(p.a)({},G.get(e)),{onData:t});return G.set(e,Object(p.a)(Object(p.a)({},k),n)),c})),onError:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=Object(p.a)(Object(p.a)({},G.get(e)),{onError:t});return G.set(e,Object(p.a)(Object(p.a)({},k),n)),c})),timeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=Object(p.a)(Object(p.a)({},G.get(e)),{timeout:t});return G.set(e,Object(p.a)(Object(p.a)({},k),n)),c})),throttle:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=G.get(e),a=Object(p.a)(Object(p.a)({},n),{throttle:t}),r=T()(c.operation,t),o=Object(p.a)(Object(p.a)({},c),{},{operation:r});return G.set(e,Object(p.a)(Object(p.a)({},k),a)),V.set(e,o),o})),debounce:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=G.get(e),a=Object(p.a)(Object(p.a)({},n),{debounce:t}),r=A()(c.operation,t,{leading:!0,trailing:!0}),o=Object(p.a)(Object(p.a)({},c),{},{operation:r});return G.set(e,Object(p.a)(Object(p.a)({},k),a)),V.set(e,o),o})),retries:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return"noop"},a=G.get(e),r=Object(p.a)(Object(p.a)({},a),{retries:t,errRetryCb:n}),o=$(c.operation,n,t),l=Object(p.a)(Object(p.a)({},c),{},{operation:o});return G.set(e,Object(p.a)(Object(p.a)({},k),r)),V.set(e,l),l})),meta:function(){return Object(p.a)(Object(p.a)({},k),G.get(e))},awaitResolve:function(){var t=Object(S.a)(N.a.mark((function t(){var n,a,r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=G.get(e),a=function(){return null},r=new Promise((function(e){a=e})),c=Object(p.a)(Object(p.a)({},n),{awaitResolve:a}),G.set(e,Object(p.a)(Object(p.a)({},k),c)),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),awaitReject:function(){var t=Object(S.a)(N.a.mark((function t(){var n,a,r,c,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=G.get(e),a=function(){return null},r=function(){return null},c=new Promise((function(e,t){a=e,r=t})),o=Object(p.a)(Object(p.a)({},n),{awaitResolve:a,awaitReject:r}),G.set(e,Object(p.a)(Object(p.a)({},k),o)),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()};return V.set(e,c),c},te=function(e,t){return function(n){var a=Object(E.d)(),r=Object(E.c)(),o=Object(c.useState)(e(void 0,{type:""})),l=Object(w.a)(o,2),i=l[0],u=l[1],s=function(t){var n=r(t);return u(e(a.getState(),n)),r(n)},m=t({dispatch:s,getState:function(){return i}})(s);return c.createElement(E.a,{store:a},n.children(i,m))}},ne=function(e,t){return Object(p.a)(Object(p.a)({},j),{},{status:"done",data:e,params:t})},ae=function(e){var t=e.call,n=e.params,a=e.children,r=e.state,o=e.destroy;return Object(c.useEffect)((function(){return n&&t(n),o}),[]),a(r,t)},re=function(e){var t=e.call,n=e.children,a=e.state,r=e.destroy;return n({state:a,call:t,reset:e.reset,destroy:r,sync:e.sync,meta:e.meta,subscribe:e.subscribe})},ce=function(){return Promise.resolve({})},oe=function(e){var t=e.operation,n=void 0===t?ce:t,a=e.children,r=e.autoParams,l=e.id,i=void 0===l?null===n||void 0===n?void 0:n.name:l,u=Object(c.useState)({params:r,asyncLifeCycle:ee(i,n),AsyncControllable:te(W,K)}),s=Object(w.a)(u,2),m=s[0],d=s[1],f=m.params,b=m.asyncLifeCycle,E=m.AsyncControllable,v=b.selector,h=b.call,y=b.destroy;return o.a.createElement(E,null,(function(e,t){return o.a.createElement(ae,{params:f,state:v(e),call:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){!function(e){d(Object(p.a)(Object(p.a)({},m),{},{params:e}))}(e),t(h(e))})),destroy:function(){t(y())}},a)}))},le=function(e){var t=e.children,n=e.lifecycle,a=e.initialState,r=Object(c.useState)(0),l=Object(w.a)(r,2),i=l[0],u=l[1],s=Object(c.useState)({initState:a||void 0,Controllable:te(W,K),subscribeInterval:void 0}),m=Object(w.a)(s,2),d=m[0],f=m[1],b=d.Controllable,E=d.initState;Object(c.useEffect)((function(){}),[i]);var v=n.selector,h=n.call,y=n.destroy,g=n.reset,O=n.sync,j=n.meta,k=n.assign,C=n.subscribe;return o.a.createElement(b,null,(function(e,n){return E&&function(e,t){e(k(t)),f(Object(p.a)(Object(p.a)({},d),{},{initState:void 0}))}(n,E),o.a.createElement(re,{state:v(e),meta:j(),call:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){n(h(e))})),destroy:function(){n(y())},sync:function(e){n(O(e))},reset:function(){n(g())},subscribe:function(e){clearInterval(d.subscribeInterval);var t=e>0?setInterval((function(){return u(Math.random())}),e):void 0;f(Object(p.a)(Object(p.a)({},d),{},{subscribeInterval:t})),n(C(e))}},t)}))},ie=n(56),ue=n(39),se=Object(h.a)({},"\ud83d\udd01",{}),me=[K],de=function(){var e=[],t=window||void 0,n=null===t||void 0===t?void 0:t.__REDUX_DEVTOOLS_EXTENSION__;return null!=t&&"function"===typeof n&&e.push(n()),e}(),pe=ue.b.apply(void 0,[ue.a.apply(void 0,me)].concat(Object(ie.a)(de))),fe=function(){return Object(ue.c)(W,se,pe)},be=v.version,Ee=j,ve=Object(p.a)(Object(p.a)({},Ee),{},{status:"inflight",params:{user:"admin",password:"hunter2"}}),he=[Ee,ve,Object(p.a)(Object(p.a)({},ve),{},{status:"error",error:"kaboom typerror"}),Object(p.a)(Object(p.a)({},ve),{},{status:"done",data:{"evil-secrets":"..."}})][Math.floor(4*Math.random())],ye=function(e){return new Promise((function(t,n){var a=Math.random(),r=1e3*a;setTimeout((function(){a<.8&&t({value:"success! ".concat(e.foo," ").concat(r)}),n(new Error("an error was thrown"))}),r)}))},ge=function(e,t){return o.a.createElement("div",null,o.a.createElement("h2",null,"status: ",e.status),o.a.createElement("h2",null,"params: ",JSON.stringify(e.params)),o.a.createElement("h2",null,"error: ",e.error),o.a.createElement("h2",null,"data: ",JSON.stringify(e.data)),o.a.createElement("button",{onClick:function(){return t({foo:"foo"})}},o.a.createElement("p",null,"foo")),o.a.createElement("button",{onClick:function(){return t({foo:"bar"})}},o.a.createElement("p",null,"bar")),o.a.createElement("button",{onClick:function(){return t({foo:"baz"})}},o.a.createElement("p",null,"baz")))},Oe=fe(),je=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(E.a,{store:Oe},o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,o.a.createElement("span",{role:"img","aria-label":"Bento"},"\ud83d\udd01")," ","NaiveAsync"),o.a.createElement("h2",null,"an opinionated and painless"," ",o.a.createElement("a",{href:"https://reactjs.org/"},"React")," n"," ",o.a.createElement("a",{href:"https://redux.js.org/"},"Redux")," promise wrapper"),o.a.createElement("h3",null,"v",be," - ",o.a.createElement(l.b,{to:"/test"},"Tests"),"-"," ",o.a.createElement("a",{href:"https://github.com/untra/naiveasync"},"Github")," -"," ",o.a.createElement("a",{href:"https://www.npmjs.com/package/@untra/naiveasync"},"NPM")," ","-"," ",o.a.createElement("a",{href:"https://dashboard.cypress.io/#/projects/wrytfx/runs"},"Cypress")),o.a.createElement(oe,{id:"asyncOp",operation:ye},ge),o.a.createElement("p",null,"NaiveAsync is a React Component that wraps a"," ",o.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"},"promise")," ","and exposes an abstraction to invoke the promise and access it with a straightforward abstraction."),o.a.createElement("p",null,"Child Components rendered in a NaiveAsync component have access to a ",o.a.createElement("code",null,"state")," and a ",o.a.createElement("code",null,"call")," function."),o.a.createElement("p",null,"NaiveAsync takes three arguments:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("strong",null,"operation:"),o.a.createElement("code",null,"(params) => Promise")," the operation takes in params and returns a promise"),o.a.createElement("li",null,o.a.createElement("strong",null,"id:"),o.a.createElement("code",null,"string")," optional string identifier under which the component redux state is stored. If not provided, it will use the function name."),o.a.createElement("li",null,o.a.createElement("strong",null,"autoParams:"),o.a.createElement("code",null,"Params")," optional params object that, if provided, will be used to invoke the operation on component mount.")),o.a.createElement(b.a,{className:"tsx"},'// react-app-async.tsx\nimport React from "react";\nimport { NaiveAsync } from "@untra/naiveasync";\n// NaiveAsync builds its own standard set of reducers and redux store\n// or perhaps written more terseley\n<NaiveAsync id="asyncOp" operation={asyncoperation}>{ asyncableView }</NaiveAsync>\n'),o.a.createElement("h2",null,"naiveAsyncLifecycle(asyncOperation, id)"),o.a.createElement("img",{alt:"the naiveasync lifecycle",src:"https://naiveasync.untra.io/images/naiveasync-flow.png"}),o.a.createElement("p",null,"the core of the async lifecycle management comes from"," ",o.a.createElement("code",null,"naiveAsyncLifecycle"),". This is available as its own function and can be used for fine-grained control in react components."),o.a.createElement("code",null,"const asyncLifecycle : AsyncLifecycle<Data,Params> = naiveAsyncLifecycle(function asyncoperation(params : Params) => {\n            const data : Data = {};\n            return data;\n          })"),o.a.createElement("p",null,"the"," ",o.a.createElement("code",null,o.a.createElement("i",null,"asyncLifecycle<Data,Params>"))," ","object exposes the following:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,"id : string"))," ","the provided id used as the unique state identifer for the"," ",o.a.createElement("code",null,"selector")," to identify the ",o.a.createElement("code",null,"AsyncState")," in the redux store. Its optional; if not provided, the"," ",o.a.createElement("code",null,"Operation.name")," is used."),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,"operation : AsyncOperation"))," ","the provided function,"," "),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,"selector(state : ReduxState) : AsyncState"))," ","this is a redux state selector against the redux state, for use in ",o.a.createElement("code",null,"mapStateToProps"),". Returns the `AsyncState` instance owned by this manager."),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,".call(params : Params)"))," ","Action creator that triggers the associated"," ",o.a.createElement("code",null,"AsyncOperation")," when dispatched, passing"," ",o.a.createElement("code",null,"params")," into the operation. Resets its state when called again."),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,".sync(",")"))," ","Action creator that triggers the associated `AsyncOperation` when dispatched, reusing the last employed params if none are provided. Does not reset data or error states, making it useful for polling / repeated operations."),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,".reset(",")"))," ","Action dispatched internally when the associated `AsyncOperation` is reset to it's initial State."),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,".data(data : Data)")),"Action dispatched internally when the associated `AsyncOperation` emits data."),o.a.createElement("li",null,o.a.createElement("code",null,o.a.createElement("strong",null,".error(error : string)")),"Action dispatched internally when the associated `AsyncOperation` emits an error (rejects) or throws an exception. The error will to be coerced to a string."),o.a.createElement("li",null,"and finally"," ",o.a.createElement("code",null,o.a.createElement("strong",null,".destroy(",")"))," ","which removes the ",o.a.createElement("code",null,"AsyncState")," instance owned by this lifecycle from the redux state tree. ",o.a.createElement("code",null,"AsyncState")," ","objects will remain in the state tree until they are destroyed, even if they are no longer being used by their components on the dom. This can become a memory leak if left unchecked. For React components, a good practice is to dispatch the"," ",o.a.createElement("code",null,".destroy(",")")," action in the component's"," ",o.a.createElement("code",null,"componentWillUnmount")," method, or with a"," ",o.a.createElement("code",null,"useEffect")," cleanup.")),o.a.createElement("p",null),o.a.createElement(b.a,{className:"tsx"},'// react-app-async.tsx\nimport React from "react";\nimport { naiveAsyncLifecycle } from "@untra/naiveasync";\n// remember, the asyncOperation is a function that takes params and returns a Promise\nconst asyncoperation : () => Promise<any> = () => fetch("api.example.com/users")\n// The naiveasyncLifecycle(...) function wraps the asyncOperation and a string identifier\nconst asyncLifecycle = naiveasyncLifecycle(asyncoperation, "ASYNC_OP_NAME")\n// the asyncLifecycle exposes a selector that will return the current state of the operation:\n{\n  "status": "'.concat(he.status,'",\n  "params": ').concat(JSON.stringify(he.params),',\n  "error": "').concat(he.error,'",\n  "data": ').concat(JSON.stringify(he.data),",\n}\n")))))}}]),n}(o.a.Component),ke=function(e,t){return new Promise((function(n){var a=Math.random()*t;setTimeout((function(){return n(e)}),a)}))},we=function(e,t){return new Promise((function(n,a){var r=Math.random()*t;setTimeout((function(){return a(e)}),r)}))},Ce=function(e){return ke(e,4e3)},Ne=function(e){return we(e,4e3)},Se=ee("DEBOUNCE_SELECTABLE",(function(e){return console.log("debounce called!"),Ce({icon:"",name:"DEBOUNCE"})})).debounce(2e3),xe=Object(E.b)((function(e){return{state:Se.selector(e)}}),(function(e){return{select:function(){return e(Se.sync({}))}}}))((function(e){var t,n=e.state,a=e.select,r="selected: ".concat((null===(t=n.data)||void 0===t?void 0:t.icon)||"..."," (check the logs)"),c="status: ".concat(n.status),l="error: ".concat(n.error),i="params: ".concat(JSON.stringify(n.params));return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:function(){return a()}},"select"),o.a.createElement("p",null,r),o.a.createElement("p",null,i),o.a.createElement("p",null,l),o.a.createElement("p",null,c))})),Ae=ee("MEMOIZED_SELECTABLE",(function(e){return Ce({icon:e.icon,name:Pe[e.icon]||"NOT FOUND"})})),Pe={"\ud83e\udd85":"eagle","\ud83d\udc05":"tiger","\ud83e\udd93":"zebra","\ud83e\udd92":"giraffe","\ud83d\udc18":"elephant","\ud83d\udc0a":"crocodile"},Te=Object(E.b)((function(e){return{state:Ae.selector(e)}}),(function(e){return{select:function(t){return e(Ae.sync(t))}}}))((function(e){var t,n,a=e.state,r=e.select,l=Object(c.useState)(!1),i=Object(w.a)(l,2),u=i[0],s=i[1],m=function(e){return function(){return r({icon:e})}},d="selected: ".concat((null===(t=a.data)||void 0===t?void 0:t.icon)||"..."," aka ").concat(null===(n=a.data)||void 0===n?void 0:n.name),p="status: ".concat(a.status),f="params: ".concat(JSON.stringify(a.params));return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:m("\ud83e\udd85")},"\ud83e\udd85"),o.a.createElement("button",{name:"\ud83d\udc05",value:"\ud83d\udc05",onClick:m("\ud83d\udc05")},"\ud83d\udc05"),o.a.createElement("button",{name:"\ud83e\udd93",value:"\ud83e\udd93",onClick:m("\ud83e\udd93")},"\ud83e\udd93"),o.a.createElement("button",{name:"\ud83e\udd92",value:"\ud83e\udd92",onClick:m("\ud83e\udd92")},"\ud83e\udd92"),o.a.createElement("button",{name:"\ud83d\udc18",value:"\ud83d\udc18",onClick:m("\ud83d\udc18")},"\ud83d\udc18"),o.a.createElement("button",{name:"\ud83d\udc0a",value:"\ud83d\udc0a",onClick:m("\ud83d\udc0a")},"\ud83d\udc0a"),o.a.createElement("p",null,"memoized: ".concat(u)),o.a.createElement("p",null,d),o.a.createElement("p",null,f),o.a.createElement("p",null,p),o.a.createElement("button",{name:"memoized",onClick:function(){return e=!u,Ae.memoized(e),void s(e);var e}},"toggle memoized"))})),Je=ee("METADATA_SELECTABLE",(function(e){return Ce({icon:e.icon,name:De[e.icon]||"NOT FOUND"})})),De={"\ud83e\udd85":"eagle","\ud83d\udc05":"tiger","\ud83e\udd93":"zebra","\ud83e\udd92":"giraffe","\ud83d\udc18":"elephant","\ud83d\udc0a":"crocodile"},Re=Object(E.b)((function(e){return{state:Je.selector(e),meta:Je.meta()}}),(function(e){return{select:function(t){return e(Je.sync(t))}}}))((function(e){var t,n,a=e.state,r=e.select,c=e.meta,l=function(e){return function(){return r({icon:e})}},i="selected: ".concat((null===(t=a.data)||void 0===t?void 0:t.icon)||"..."," aka ").concat(null===(n=a.data)||void 0===n?void 0:n.name),u="status: ".concat(a.status),s="error: ".concat(a.error),m="params: ".concat(JSON.stringify(a.params));return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:l("\ud83e\udd85")},"\ud83e\udd85"),o.a.createElement("button",{name:"\ud83d\udc05",value:"\ud83d\udc05",onClick:l("\ud83d\udc05")},"\ud83d\udc05"),o.a.createElement("button",{name:"\ud83e\udd93",value:"\ud83e\udd93",onClick:l("\ud83e\udd93")},"\ud83e\udd93"),o.a.createElement("button",{name:"\ud83e\udd92",value:"\ud83e\udd92",onClick:l("\ud83e\udd92")},"\ud83e\udd92"),o.a.createElement("button",{name:"\ud83d\udc18",value:"\ud83d\udc18",onClick:l("\ud83d\udc18")},"\ud83d\udc18"),o.a.createElement("button",{name:"\ud83d\udc0a",value:"\ud83d\udc0a",onClick:l("\ud83d\udc0a")},"\ud83d\udc0a"),o.a.createElement("p",null,i),o.a.createElement("p",null,m),o.a.createElement("p",null,s),o.a.createElement("p",null,u),o.a.createElement("p",null,"last called: ".concat(c.lastCalled)),o.a.createElement("p",null,"last params: ".concat(JSON.stringify(c.lastParams))),o.a.createElement("p",null,"data count: ".concat(c.dataCount)),o.a.createElement("p",null,"error count: ".concat(c.errorCount)))})),_e=ee("ONDATA_SELECTABLE",(function(e){return Ce({icon:e.icon,name:Le[e.icon]||"NOT FOUND"})})),Le={"\ud83e\udd85":"eagle","\ud83d\udc05":"tiger","\ud83e\udd93":"zebra","\ud83e\udd92":"giraffe","\ud83d\udc18":"elephant","\ud83d\udc0a":"crocodile"},Ie=Object(E.b)((function(e){return{state:_e.selector(e)}}),(function(e){return{select:function(t){return e(_e.sync(t))}}}))((function(e){var t,n,a=e.state,r=e.select,l=Object(c.useState)("none"),i=Object(w.a)(l,2),u=i[0],s=i[1],m=function(e){return function(){return r({icon:e})}},d="selected: ".concat((null===(t=a.data)||void 0===t?void 0:t.icon)||"..."," aka ").concat(null===(n=a.data)||void 0===n?void 0:n.name),p="status: ".concat(a.status),f="error: ".concat(a.error),b="params: ".concat(JSON.stringify(a.params)),E=function(e){e?(s(e.name),_e.onData(e)):s("none")},v=function(){console.log("onData received!")},h=function(e){console.log("fresh data!",e)},y=function(e,t){console.log("dispatched data!",e),setTimeout((function(){return t&&t(_e.reset())}),2e3)};return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:m("\ud83e\udd85")},"\ud83e\udd85"),o.a.createElement("button",{name:"\ud83d\udc05",value:"\ud83d\udc05",onClick:m("\ud83d\udc05")},"\ud83d\udc05"),o.a.createElement("button",{name:"\ud83e\udd93",value:"\ud83e\udd93",onClick:m("\ud83e\udd93")},"\ud83e\udd93"),o.a.createElement("button",{name:"\ud83e\udd92",value:"\ud83e\udd92",onClick:m("\ud83e\udd92")},"\ud83e\udd92"),o.a.createElement("button",{name:"\ud83d\udc18",value:"\ud83d\udc18",onClick:m("\ud83d\udc18")},"\ud83d\udc18"),o.a.createElement("button",{name:"\ud83d\udc0a",value:"\ud83d\udc0a",onClick:m("\ud83d\udc0a")},"\ud83d\udc0a"),o.a.createElement("p",null,"onData: ".concat(u)),o.a.createElement("p",null,d),o.a.createElement("p",null,b),o.a.createElement("p",null,f),o.a.createElement("p",null,p),o.a.createElement("button",{name:"disable onData",onClick:function(){return E()}},"disable onData"),o.a.createElement("button",{name:"simple onData",onClick:function(){return E(v)}},"simple onData"),o.a.createElement("button",{name:"callback onData",onClick:function(){return E(h)}},"callback onData"),o.a.createElement("button",{name:"dispatch onData",onClick:function(){return E(y)}},"dispatch onData"))})),Me=ee("ONERROR_SELECTABLE",(function(e){return Ce({icon:e.icon,name:Be[e.icon]||"NOT FOUND"})})).timeout(2e3),Be={"\ud83e\udd85":"eagle","\ud83d\udc05":"tiger","\ud83e\udd93":"zebra","\ud83e\udd92":"giraffe","\ud83d\udc18":"elephant","\ud83d\udc0a":"crocodile"},ze=Object(E.b)((function(e){return{state:Me.selector(e)}}),(function(e){return{select:function(t){return e(Me.sync(t))}}}))((function(e){var t,n,a=e.state,r=e.select,l=Object(c.useState)("none"),i=Object(w.a)(l,2),u=i[0],s=i[1],m=function(e){return function(){return r({icon:e})}},d="selected: ".concat((null===(t=a.data)||void 0===t?void 0:t.icon)||"..."," aka ").concat(null===(n=a.data)||void 0===n?void 0:n.name),p="status: ".concat(a.status),f="error: ".concat(a.error),b="params: ".concat(JSON.stringify(a.params)),E=function(e){e?(s(e.name),Me.onError(e)):s("none")},v=function(){console.error("onError received!")},h=function(e){console.error("an error was thrown",e)},y=function(e,t){console.error("very bad error!",e),setTimeout((function(){return t&&t(Me.reset())}),2e3)};return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:m("\ud83e\udd85")},"\ud83e\udd85"),o.a.createElement("button",{name:"\ud83d\udc05",value:"\ud83d\udc05",onClick:m("\ud83d\udc05")},"\ud83d\udc05"),o.a.createElement("button",{name:"\ud83e\udd93",value:"\ud83e\udd93",onClick:m("\ud83e\udd93")},"\ud83e\udd93"),o.a.createElement("button",{name:"\ud83e\udd92",value:"\ud83e\udd92",onClick:m("\ud83e\udd92")},"\ud83e\udd92"),o.a.createElement("button",{name:"\ud83d\udc18",value:"\ud83d\udc18",onClick:m("\ud83d\udc18")},"\ud83d\udc18"),o.a.createElement("button",{name:"\ud83d\udc0a",value:"\ud83d\udc0a",onClick:m("\ud83d\udc0a")},"\ud83d\udc0a"),o.a.createElement("p",null,"onError: ".concat(u)),o.a.createElement("p",null,d),o.a.createElement("p",null,b),o.a.createElement("p",null,f),o.a.createElement("p",null,p),o.a.createElement("button",{name:"disable onError",onClick:function(){return E()}},"disable onError"),o.a.createElement("button",{name:"simple onError",onClick:function(){return E(v)}},"simple onError"),o.a.createElement("button",{name:"callback onError",onClick:function(){return E(h)}},"callback onError"),o.a.createElement("button",{name:"dispatch onError",onClick:function(){return E(y)}},"dispatch onError"))})),Ue=ee("RANDOM_SELECTABLE",(function(e){return Ce(Math.floor(100*Math.random())*e.multiplier)})),Fe=Object(E.b)((function(e){return{state:Ue.selector(e)}}),(function(e){return{generate:function(t){return e(Ue.sync(t))}}}))((function(e){var t=e.state,n=e.generate,a=t.data,r=Object(c.useState)(1),l=Object(w.a)(r,2),i=l[0],u=l[1];Object(c.useEffect)((function(){n({multiplier:i})}),[n,i]),Object(c.useEffect)((function(){n()}),[a,n]);var s=function(e){return function(){return u(e)}},m="multiplier: ".concat(i,"x, random number: ").concat(a),d="status: ".concat(t.status);return o.a.createElement("div",null,o.a.createElement("button",{name:"0x",value:0,onClick:s(0)},"0x"),o.a.createElement("button",{name:"1x",value:1,onClick:s(1)},"1x"),o.a.createElement("button",{name:"2x",value:2,onClick:s(2)},"2x"),o.a.createElement("button",{name:"3x",value:3,onClick:s(3)},"3x"),o.a.createElement("button",{name:"5x",value:5,onClick:s(5)},"5x"),o.a.createElement("button",{name:"10x",value:10,onClick:s(10)},"10x"),o.a.createElement("p",null,m),o.a.createElement("p",null,d))})),Ve=ee("RANDOM",(function(){return Ce(Math.floor(100*Math.random()))})),Ge=Object(E.b)((function(e){return{state:Ve.selector(e)}}),(function(e){return{generate:function(){return e(Ve.sync({}))}}}))((function(e){var t=e.state,n=e.generate,a=t.data;Object(c.useEffect)((function(){n()}),[a,n]);var r="random number: ".concat(a);return o.a.createElement("p",null,r)})),Ye=ee("throttle_SELECTABLE",(function(e){return console.log("throttle called!"),Ce({icon:"",name:"THROTTLE"})})).throttle(2e3),We=Object(E.b)((function(e){return{state:Ye.selector(e)}}),(function(e){return{select:function(){return e(Ye.sync({}))}}}))((function(e){var t,n=e.state,a=e.select,r="selected: ".concat((null===(t=n.data)||void 0===t?void 0:t.icon)||"..."," (check the logs)"),c="status: ".concat(n.status),l="error: ".concat(n.error),i="params: ".concat(JSON.stringify(n.params));return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:function(){return a()}},"select"),o.a.createElement("p",null,r),o.a.createElement("p",null,i),o.a.createElement("p",null,l),o.a.createElement("p",null,c))})),Xe=ee("ASSIGN_TEST",(function(e){return Ce({icon:"",name:"DEBOUNCE"})})),qe=Object(E.b)((function(e){return{state:Xe.selector(e)}}),(function(e){return{select:function(){return e(Xe.sync({}))}}}))((function(e){var t,n,a=e.state,r=(e.select,"selected: ".concat(null===(t=a.data)||void 0===t?void 0:t.icon," (").concat(null===(n=a.data)||void 0===n?void 0:n.name,")")),l="status: ".concat(a.status),i="error: ".concat(a.error),u="params: ".concat(JSON.stringify(a.params)),s=Object(E.c)();return Object(c.useEffect)((function(){s(Xe.assign(ne({icon:"\ud83e\udd85",name:"assigned!"},{})))}),[s]),o.a.createElement("div",null,o.a.createElement("i",null,'(this component should appear in an initial "done" state)'),o.a.createElement("p",null,r),o.a.createElement("p",null,u),o.a.createElement("p",null,i),o.a.createElement("p",null,l))})),He=ee("23_RETRY_TEST",(function(e){return new Promise((function(t,n){var a=Math.random(),r=100*a;console.log("Chosen random value: ".concat(a)),setTimeout((function(){a>.5?n(e):t(e)}),r)}))})).retries(3,(function(e){console.debug("retried err: ",e)})),Ze=Object(E.b)((function(e){return{state:He.selector(e)}}),(function(e){return{select:function(){return e(He.sync({}))}}}))((function(e){var t=e.state,n=(e.select,Object(E.c)());Object(c.useEffect)((function(){n(He.assign(ne({icon:"\ud83e\udd85",name:"assigned!"},{})))}),[n]);return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(t.status)),o.a.createElement("p",null,"params: ",JSON.stringify(t.params)),o.a.createElement("p",null,"error: ",JSON.stringify(t.error)),o.a.createElement("p",null,"data: ",JSON.stringify(t.data)),o.a.createElement("button",{onClick:function(){return e={},n(He.call(e));var e}},"call"),o.a.createElement("button",{style:{backgroundColor:"cyan"},onClick:function(){return e={},n(He.sync(e));var e}},"sync"),o.a.createElement("button",{style:{backgroundColor:"yellow"},onClick:function(){return n(He.reset())}},"reset"))})),Ke=ee("22_SUBSCRIBE_TEST",(function(e){return Ce({icon:"",name:"".concat(Math.random())})})),Qe=Object(E.b)((function(e){return{state:Ke.selector(e)}}),(function(e){return{select:function(){return e(Ke.sync({}))}}}))((function(e){var t=e.state,n=(e.select,Object(E.c)());Object(c.useEffect)((function(){n(Ke.assign(ne({icon:"\ud83e\udd85",name:"assigned!"},{})))}),[n]);var a=function(e){return n(Ke.subscribe(e))};return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(t.status)),o.a.createElement("p",null,"params: ",JSON.stringify(t.params)),o.a.createElement("p",null,"error: ",JSON.stringify(t.error)),o.a.createElement("p",null,"data: ",JSON.stringify(t.data)),o.a.createElement("button",{onClick:function(){return e={},n(Ke.call(e));var e}},"call"),o.a.createElement("button",{style:{backgroundColor:"cyan"},onClick:function(){return e={},n(Ke.sync(e));var e}},"sync"),o.a.createElement("button",{style:{backgroundColor:"yellow"},onClick:function(){return n(Ke.reset())}},"reset"),o.a.createElement("p",null,"subscriptions"),o.a.createElement("button",{style:{backgroundColor:"gray"},onClick:function(){return a(2e3)}},"subscribe 2sec"),o.a.createElement("button",{style:{backgroundColor:"gray"},onClick:function(){return a(6e3)}},"subscribe 6sec"),o.a.createElement("button",{style:{backgroundColor:"gray"},onClick:function(){return a(1e4)}},"subscribe 10sec"),o.a.createElement("button",{style:{backgroundColor:"light-gray"},onClick:function(){return a(0)}},"clear subscribe"))})),$e=ee("TIMEOUT_SELECTABLE",(function(e){return Ce({icon:e.icon,name:et[e.icon]||"NOT FOUND"})})),et={"\ud83e\udd85":"eagle","\ud83d\udc05":"tiger","\ud83e\udd93":"zebra","\ud83e\udd92":"giraffe","\ud83d\udc18":"elephant","\ud83d\udc0a":"crocodile"},tt=Object(E.b)((function(e){return{state:$e.selector(e)}}),(function(e){return{select:function(t){return e($e.sync(t))}}}))((function(e){var t,n,a=e.state,r=e.select,l=Object(c.useState)(0),i=Object(w.a)(l,2),u=i[0],s=i[1],m=function(e){return function(){return r({icon:e})}},d="selected: ".concat((null===(t=a.data)||void 0===t?void 0:t.icon)||"..."," aka ").concat(null===(n=a.data)||void 0===n?void 0:n.name),p="status: ".concat(a.status),f="error: ".concat(a.error),b="params: ".concat(JSON.stringify(a.params));return o.a.createElement("div",null,o.a.createElement("button",{name:"\ud83e\udd85",value:"\ud83e\udd85",onClick:m("\ud83e\udd85")},"\ud83e\udd85"),o.a.createElement("button",{name:"\ud83d\udc05",value:"\ud83d\udc05",onClick:m("\ud83d\udc05")},"\ud83d\udc05"),o.a.createElement("button",{name:"\ud83e\udd93",value:"\ud83e\udd93",onClick:m("\ud83e\udd93")},"\ud83e\udd93"),o.a.createElement("button",{name:"\ud83e\udd92",value:"\ud83e\udd92",onClick:m("\ud83e\udd92")},"\ud83e\udd92"),o.a.createElement("button",{name:"\ud83d\udc18",value:"\ud83d\udc18",onClick:m("\ud83d\udc18")},"\ud83d\udc18"),o.a.createElement("button",{name:"\ud83d\udc0a",value:"\ud83d\udc0a",onClick:m("\ud83d\udc0a")},"\ud83d\udc0a"),o.a.createElement("p",null,d),o.a.createElement("p",null,b),o.a.createElement("p",null,f),o.a.createElement("p",null,p),o.a.createElement("input",{type:"number",id:"timeout",name:"timeout",min:"1",value:u,onChange:function(e){var t=e.currentTarget,n=parseInt(t.value,10);isNaN(n)||(s(n),$e.timeout(n))}}))})),nt=function(e){return o.a.createElement("p",null,"inflight"===e.status?"\ud83d\udcac":e.error?"\ud83d\udca5":e.data?"\u2714\ufe0f":"\u274c"," ","".concat(e.data)," ","".concat(e.status)," ","".concat(e.error)," ")},at=function(e,t){return o.a.createElement("button",{onClick:t},"inflight"===e.status?"\ud83d\udcac":e.error?"\ud83d\udca5":e.data?"\u2714\ufe0f":"\u274c"," ","".concat(e.status)," ")},rt=function(e){return new Promise((function(t){var n=4e3*Math.random();setTimeout((function(){return t(e)}),n)}))},ct=function(e){return Promise.resolve("\u2705 with params ".concat(JSON.stringify(e)))},ot=function(e){return rt("\u2705")},lt=function(){return rt(!0)},it=function(){return new Promise((function(e,t){var n=Math.random();setTimeout((function(){n<.99&&e({value:n}),t(new Error("an error was thrown"))}),2e3*n)}))},ut=ee("17_LIFECYCLE_INPUT",ct),st=ee("19_ASYNC_OPERATION",it),mt=ee("21_SUBSCRIBE_OPERATION",it),dt=fe(),pt=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement(E.a,{store:dt},o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,o.a.createElement("span",{role:"img","aria-label":"Bento"},"\ud83d\udd01")," ","NaiveAsync"),o.a.createElement("h2",null,"Cypress Tests and demonstration"),o.a.createElement("h3",null,"View this page and tests at ",o.a.createElement("a",{href:"https://github.com/untra/naiveasync/blob/master/src/routes/test.tsx"},"Github.com")),o.a.createElement("h3",null,"View the test results at ",o.a.createElement("a",{href:"https://dashboard.cypress.io/#/projects/wrytfx/runs"},"Cypress.io")),o.a.createElement("h4",null,"version ",v.version),o.a.createElement("p",null,"This page is a demonstration of the NaiveTable component used in a variety of ways:"),o.a.createElement("ul",null,o.a.createElement("li",null,"It is the selection and input to a variety of cypress tests."),o.a.createElement("li",null,"This is also a demonstration of the power of react-hooks, a functional and clean approach to writing react components."),o.a.createElement("li",null,"View the chrome console to see statistics and reports of how the examples render. (coming soon)")),o.a.createElement("h4",null,"#1 It should be invoked automatically when autoParams are specified..."),o.a.createElement(oe,{id:"NA1",operation:ct,autoParams:{}},(function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(e.status)),o.a.createElement("p",null,"params: ",JSON.stringify(e.params)),o.a.createElement("p",null,"error: ",JSON.stringify(e.error)),o.a.createElement("p",null,"data: ",JSON.stringify(e.data)))})),o.a.createElement("h4",null,"#2 It can be invoked when the call cb is invoked"),o.a.createElement(oe,{id:"NA2",operation:ct},(function(e,t){return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(e.status)),o.a.createElement("p",null,"params: ",JSON.stringify(e.params)),o.a.createElement("p",null,"error: ",JSON.stringify(e.error)),o.a.createElement("p",null,"data: ",JSON.stringify(e.data)),o.a.createElement("button",{onClick:function(){return t({})}},"call"))})),o.a.createElement("h4",null,"#3 Multiple autoParamed operations should execute"),o.a.createElement(oe,{id:"NA3a",operation:ot,autoParams:{}},(function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.data||"\ud83d\udcac"))})),o.a.createElement(oe,{id:"NA3b",operation:ot,autoParams:{}},(function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.data||"\ud83d\udcac"))})),o.a.createElement(oe,{id:"NA3c",operation:ot,autoParams:{}},(function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.data||"\ud83d\udcac"))})),o.a.createElement("h4",null,"#4 a circus of promises"),o.a.createElement(oe,{id:"NA4a",operation:function(){return Promise.resolve(!0)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4b",operation:function(){return Promise.resolve(!1)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4c",operation:function(){return Promise.reject("boom")},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4d",operation:function(){return Promise.reject(new Error("kaboom!"))},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4e",operation:function(){return rt(!0)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4f",operation:function(){return rt(!1)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4g",operation:function(){return Ne(new Error("slow boom"))},autoParams:{}},nt),o.a.createElement(oe,{id:"NA4h",operation:function(){return Ne(new Error("slow kaboom!"))},autoParams:{}},nt),o.a.createElement("h4",null,"#5 callable promises"),o.a.createElement(oe,{id:"NA5a",operation:function(){return Promise.resolve(!0)}},at),o.a.createElement(oe,{id:"NA5b",operation:function(){return rt(!0)}},at),o.a.createElement(oe,{id:"NA5c",operation:function(){return rt(!0)}},at),o.a.createElement("h4",null,"#6 very small timeouts"),o.a.createElement(oe,{id:"NA6a",operation:function(){return ke(!0,1)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6b",operation:function(){return ke(!0,2)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6c",operation:function(){return ke(!0,3)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6d",operation:function(){return ke(!0,4)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6e",operation:function(){return ke(!0,5)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6f",operation:function(){return ke(!0,6)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6g",operation:function(){return ke(!0,7)},autoParams:{}},nt),o.a.createElement(oe,{id:"NA6h",operation:function(){return ke(!0,8)},autoParams:{}},nt),o.a.createElement("h4",null,"#7 shared id experiment"),o.a.createElement(oe,{id:"NA7",operation:lt},at),o.a.createElement(oe,{id:"NA7",operation:lt},at),o.a.createElement(oe,{id:"NA7",operation:lt},at),o.a.createElement("h4",null,"#8 lifecycle sync"),o.a.createElement(Ge,null),o.a.createElement("h4",null,"#9 lifecycle sync retains last passed params"),o.a.createElement(Fe,null),o.a.createElement("h4",null,"#10 test memoized"),o.a.createElement(Te,null),o.a.createElement("h4",null,"#11 test timeout"),o.a.createElement(tt,null),o.a.createElement("h4",null,"#12 test onData"),o.a.createElement(Ie,null),o.a.createElement("h4",null,"#13 test onError"),o.a.createElement(ze,null),o.a.createElement("h4",null,"#14 test meta"),o.a.createElement(Re,null),o.a.createElement("h4",null,"#15 throttle"),o.a.createElement(We,null),o.a.createElement("h4",null,"#16 debounce"),o.a.createElement(xe,null),o.a.createElement("h4",null,"#17 naiveasync with lifecycle input"),o.a.createElement(oe,{operation:ut.operation,id:"TEST_18"},(function(e,t){return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(e.status)),o.a.createElement("p",null,"params: ",JSON.stringify(e.params)),o.a.createElement("p",null,"error: ",JSON.stringify(e.error)),o.a.createElement("p",null,"data: ",JSON.stringify(e.data)),o.a.createElement("button",{onClick:function(){return t({})}},"call"))})),o.a.createElement("h4",null,"#18 Async tag with a managed lifecycle"),o.a.createElement(le,{lifecycle:st},(function(e){var t=e.state,n=e.call;return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(t.status)),o.a.createElement("p",null,"params: ",JSON.stringify(t.params)),o.a.createElement("p",null,"error: ",JSON.stringify(t.error)),o.a.createElement("p",null,"data: ",JSON.stringify(t.data)),o.a.createElement("button",{onClick:function(){return n({})}},"call"))})),o.a.createElement("h4",null,"#19 reusing Async tag with the same lifecycle, more buttons"),o.a.createElement(le,{lifecycle:st},(function(e){var t=e.state,n=e.call,a=e.reset,r=e.sync;return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(t.status)),o.a.createElement("p",null,"params: ",JSON.stringify(t.params)),o.a.createElement("p",null,"error: ",JSON.stringify(t.error)),o.a.createElement("p",null,"data: ",JSON.stringify(t.data)),o.a.createElement("button",{onClick:function(){return n({})}},"call"),o.a.createElement("button",{style:{backgroundColor:"cyan"},onClick:function(){return r({})}},"sync"),o.a.createElement("button",{style:{backgroundColor:"yellow"},onClick:function(){return a()}},"reset"))})),o.a.createElement("h4",null,"#20 assignTest"),o.a.createElement(qe,null),o.a.createElement("h4",null,"#21 subscribe with Async Test"),o.a.createElement(le,{lifecycle:mt},(function(e){var t=e.state,n=e.call,a=e.reset,r=e.sync,c=e.subscribe;return o.a.createElement("div",null,o.a.createElement("p",null,"status: ",JSON.stringify(t.status)),o.a.createElement("p",null,"params: ",JSON.stringify(t.params)),o.a.createElement("p",null,"error: ",JSON.stringify(t.error)),o.a.createElement("p",null,"data: ",JSON.stringify(t.data)),o.a.createElement("button",{onClick:function(){return n({})}},"call"),o.a.createElement("button",{style:{backgroundColor:"cyan"},onClick:function(){return r({})}},"sync"),o.a.createElement("button",{style:{backgroundColor:"yellow"},onClick:function(){return a()}},"reset"),o.a.createElement("p",null,"subscriptions"),o.a.createElement("button",{style:{backgroundColor:"gray"},onClick:function(){return c(2e3)}},"subscribe 2sec"),o.a.createElement("button",{style:{backgroundColor:"gray"},onClick:function(){return c(6e3)}},"subscribe 6sec"),o.a.createElement("button",{style:{backgroundColor:"gray"},onClick:function(){return c(1e4)}},"subscribe 10sec"),o.a.createElement("button",{style:{backgroundColor:"light-gray"},onClick:function(){return c(0)}},"clear subscribe"))})),o.a.createElement("h4",null,"#22 subscribe test"),o.a.createElement(Qe,null),o.a.createElement("h4",null,"#23 retry test"),o.a.createElement(Ze,null)))}}]),n}(o.a.Component);r.a.render(o.a.createElement(l.a,{basename:"/"},o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/test",component:pt}),o.a.createElement(i.a,{exact:!0,path:"/",component:je}),o.a.createElement(i.a,{component:function(){return o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,"404 Not found")," ")}}))),document.getElementById("root"))},29:function(e){e.exports=JSON.parse('{"name":"@untra/naiveasync","version":"0.5.0","description":"An Opinionated and Painless React & Redux promise wrapper","main":"./dist/src/naiveasync/index.js","types":"./dist/src/naiveasync/index.d.ts","type":"module","author":{"name":"Samuel Volin","email":"sam@untra.io","url":"https://github.com/untra"},"repository":{"type":"git","url":"git+https://github.com/untra/naiveasync.git"},"homepage":"https://naiveasync.untra.io/","jest":{"testEnvironment":"jsdom","testPathIgnorePatterns":["/node_modules/","/cypress/","/dist/"]},"scripts":{"postversion":"git push && git push --tags","prepublishOnly":"npm run ci && npm run defs","postpublish":"npm run deploy","preversion":"npm run ci","test":"npm run build && jest","build":"rm -rf dist && mkdir dist && cp src/index.html dist/index.html && tsc -p build.tsconfig.json","build:watch":"npm run build && tsc -p ./build.tsconfig.json --watch","build:ts":"tsc -p tsconfig.json","build:rs":"./node_modules/.bin/react-scripts build","build:site":"npm run build:ts && npm run build:rs","lint":"eslint src --ext .ts,.tsx,.js --ignore-path .gitignore","docs":"typedoc src/naiveasync --out docs ","defs":"tsc -p build.tsconfig.json --declaration --outDir dist/ --emitDeclarationOnly","ci":"npm run build && npm run lint && npm run test","ci2":"npm run lint && npm run build && npm run cover","start":"./node_modules/.bin/react-scripts start","deploy":"./node_modules/.bin/gh-pages -d ./build","predeploy":"npm run build:site","prettier:format":"prettier --write \\"./src/**/*.{ts,tsx}\\"","watch":"./node_modules/.bin/webpack-dev-server dist/src/index.js","serve:watch":"./node_modules/.bin/webpack --config webpack.config.js --mode development","cypress:test":"./node_modules/.bin/cypress run --record ","cypress:run":"./node_modules/.bin/cypress run","cypress:open":"./node_modules/.bin/cypress open","build:test":"./node_modules/.bin/webpack --output-filename out.js --entry ./cypress/integration/test.spec.ts"},"license":"MIT","peerDependencies":{"lodash.debounce":"^4.x.x","lodash.throttle":"^4.x.x","react":"^16.x.x","redux":"^4.x.x","rxjs":"^6.x.x"},"devDependencies":{"@babel/core":"^7.9.6","@babel/preset-react":"^7.9.4","@babel/preset-typescript":"^7.9.0","@reactivex/rxjs":"^6.6.7","@types/chai":"^4.2.11","@types/jest":"^27.0.2","@types/lodash":"^4.14.151","@types/lodash.debounce":"^4.0.6","@types/lodash.throttle":"^4.1.6","@types/mocha":"^5.2.5","@types/node":"^10.17.21","@types/react":"^16.9.35","@types/react-dom":"^16.9.8","@types/react-highlight":"^0.12.1","@types/react-redux":"^7.1.8","@types/react-router-dom":"4.3.3","@types/uuid":"^8.3.1","@typescript-eslint/eslint-plugin":"^4.15.2","@typescript-eslint/parser":"^4.15.2","babel-loader":"^8.1.0","chai":"^4.2.0","css-loader":"^3.5.3","cypress":"^8.6.0","eslint":"^7.32.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.2","eslint-plugin-jsdoc":"^37.0.0","eslint-plugin-prefer-arrow":"^1.2.3","eslint-plugin-prettier":"^4.0.0","eslint-plugin-react":"^7.26.1","eslint-plugin-react-hooks":"^4.2.0","eslint-plugin-unused-imports":"^1.1.5","gh-pages":"^2.2.0","html-loader":"^0.5.5","html-webpack-plugin":"^3.2.0","jest":"^27.3.1","jest-environment-jsdom":"^27.0.6","lodash.debounce":"^4.0.8","lodash.throttle":"4.1.1","mocha":"^9.1.3","prettier":"^2.0.5","prettier-eslint":"^8.2.2","react":"^16.13.1","react-dom":"^16.13.1","react-highlight":"^0.14.0","react-redux":"^7.2.5","react-router-dom":"5.3.0","react-scripts":"^3.4.4","redux":"^4.1.1","rxjs":"^6.6.7","terser-webpack-plugin":"^5.2.4","ts-loader":"^6.2.2","typedoc":"^0.22.7","typescript":"^4.4.4","uuid":"^8.3.2","webpack":"^5.59.1","webpack-cli":"^4.9.1","webpack-dev-server":"^4.3.1","webpack-node-externals":"^1.7.2"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},59:function(e,t,n){e.exports=n(282)}},[[59,1,2]]]);
//# sourceMappingURL=main.39687abc.chunk.js.map